- name: Get hostname
  ansible.builtin.pause:
    prompt: 'Enter hostname'
  register: hostname
  when: ansible_hostname == "fedora" # default hostname

- name: Set hostname
  ansible.builtin.hostname:
    name: '{{ hostname.user_input }}'
    use: systemd
  when: not hostname is skipped

- name: Enable RPM fusion repository
  become: true
  ansible.builtin.dnf:
    name:
      - https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-{{ ansible_distribution_major_version }}.noarch.rpm
      - https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-{{ ansible_distribution_major_version }}.noarch.rpm
    disable_gpg_check: true

- name: Install packages
  ansible.builtin.import_tasks: packages.yml

- name: Install codecs
  ansible.builtin.import_tasks: codecs.yml
